<div class="product-card">
	<div class="relative group overflow-hidden mb-4">
		<img
			[src]="product().image_urls[0]"
			alt=""
			class="w-full aspect-square  object-cover"
		>
		<div class="absolute -bottom-16 w-full h-16 group-hover:bottom-0 transition-all duration-300">
			<div class="flex w-fit gap-3 mx-auto">
				<a
					[routerLink]="['/products', product().id	]"
					class="size-12 bg-white flex items-center justify-center"
				>
					<i class="ph ph-eye"></i>
				</a>
				<button class="size-12 bg-white">
					<i class="ph ph-star"></i>
				</button>
				<button
					(click)="openModalCart()"
					class="size-12 bg-white"
				>
					<i class="ph ph-shopping-cart"></i>
				</button>
			</div>
		</div>
	</div>
	<div class="flex justify-between mb-2 items-center">
		<span class="text-2xl font-bold">{{product().name}}</span>
		<span class=" text-gray-600">{{product().rating}} <i class="ph-fill ph-star"></i></span>
	</div>
	<span class="text-gray-400 font-semibold text-xl">$ {{product().price}}</span>
</div>

<ng-template
	let-closeModal="close"
	#cart
>
	<span class="px-8 py-4 border-b border-gray-200 block text-xl">Add To Cart</span>

	<div class="min-w-96 border-b border-gray-200 px-8 py-4 flex w-full gap-4">
		<img
			[src]="product().image_urls[0]"
			alt=""
			class="size-24 object-cover"
		>
		<div>
			<span class="font-semibold block mb-8">{{product().name}}</span>
			<span class="text-sm text-gray-500">$ {{product().price}} x 1</span>
		</div>
	</div>
	<div class="flex items-center justify-between w-full border-b border-gray-200 px-8 py-4">
		<span class="text-gray-500 text-xl block">No. of Orders</span>
		<div class="counter  flex items-center justify-center h-7 aspect-[3/1]">
			<button
				(click)="decreaseCartAmount()"
				class="size-full aspect-square border border-gray-300 cursor-pointer"
			>
				<i class="ph ph-minus text-sm"></i>
			</button>
			<input
				type="text"
				class="size-full text-center border border-gray-300 border-l-0"
				[formControl]="addToCartAmount"
			>
			<button
				(click)="increaseCartAmount()"
				class="size-full border border-gray-300 border-l-0 cursor-pointer"
			>
				<i class="ph ph-plus text-sm"></i>
			</button>
		</div>
	</div>
	<div class="px-8 py-4 flex justify-end items-center gap-4">
		<button
			(click)="closeModal()"
			class="uppercase text-gray-500 font-semibold text-sm px-3.5 py-2.5 border border-gray-200 cursor-pointer"
		>Cancel</button>
		<button
			(click)="onAddToCart()"
			class="px-3.5 py-2.5 uppercase text-white  bg-gray-800 text-sm font-semibold cursor-pointer"
		>Add To
			Cart</button>
	</div>
</ng-template>